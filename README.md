# aems-apilib
This library is used to generate the JSON-Body that will be sent to the AEMS-API. It also provides methods to communicate to the API.

# General usage
To perform an action that requires authentication, you must supply the users credentials. You can do so by creating an instance
of an `AemsUser` object and passing that to your `Action` object. For example:
```java
AemsUser user = new AemsUser(userId, username, password);
AemsInsertAction insert = new AemsInsertAction(user);
```
## The authentication string
The authentication string is used to authorize at the AEMS-API. It is calculated using the users ID, username, password and a random salt. If the salt is not disabled, it will appear in the JSON string that is generated by calling `action.toJson()`.
## Managing the SALT
By default, a random salt will be applied to the users authentication string. If you wish to disable it, you can do so by calling
```java
myAction.disableSalt();
```
# API-Communication
You can call the API either by using the static methods of the `AemsAPI` class or by invoking the `call(url)` method on your Action objects.
```java
JsonElement result = AemsAPI.call("https://my-api.com", "GET", action.toJson());	// Tries to json parse the response right away
String result2 = AemsAPI.callRaw("https://my-api.com", "GET", action.toJson());		// Returns the response as string

// Or call the API directly from your Action objects
JsonElement response = insertAction.call("https://my-api.com");
```

# Examples
## No-Auth Actions
Please follow [this link](https://github.com/GitGraf/aems-apilib/wiki/No-Authentication-Actions) to read about actions that do not require full authentication.
## Regular Actions
Please follow [this link](https://github.com/GitGraf/aems-apilib/wiki/Aems-Actions) in order to read about actions that require authentication.
